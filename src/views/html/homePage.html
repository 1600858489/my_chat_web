<html>
    <head>
        <title> ChatGPT</title>
        <style src="./views/css/homePage.css"></style>

        <script src="./views/js/homePage.js"></script>

    </head>
    <body>
      <div class="main">
        <div class="sidebar">
    <!--      <h3>会话列表</h3>-->
          <button class="new-conversation-button" @click="createNewConversation">新建会话</button>
          <ul>
            <li v-for="conversation in conversations" :key="conversation.conversation_id" @click="getHistory(conversation.conversation_id)">
              {{ conversation.conversation_name }}
            </li>
          </ul>
          <div class="user-info">
            <div class="user-avatar" :class="{ 'grayed-out': !user.loggedIn }">
              <img :src="user.avatar" alt="User Avatar" />
            </div>
            <span>{{ user.loggedIn ? user.username : '未登录' }}</span>
            <button v-if="user.loggedIn" @click="logout" class="logout">退出登录</button>
            <button v-else @click="goToLogin" class="login">登录</button>
          </div>
        </div>
        <div class="main-content">
          <div id="chat-log">
            <div v-for="(message, index) in messages" :key="index" :class="getMessageClass(message.role)">
              <strong>{{ message.role }}: {{ message.content }}</strong>
            </div>
          </div>

          <div class="user-input-container">
            <input type="text" v-model="userInput" @keydown.enter="sendUserInput" />
            <button :disabled="sendButtonDisabled" @click="sendUserInput">Send</button>
          </div>
        </div>
      </div>
    </body>

</html>


